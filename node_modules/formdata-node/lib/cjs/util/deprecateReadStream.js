"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const util_1 = require("util");
const isReadStream_1 = __importDefault(require("./isReadStream"));
function deprecateReadStream(_t, _k, descriptor) {
    let fn = descriptor.value;
    let decorated = false;
    descriptor.value = function (...args) {
        if (isReadStream_1.default(args[1]) && !decorated) {
            decorated = true;
            fn = util_1.deprecate(fn, "The usage of ReadStream in entry's value is deprecated. "
                + "Use Blob, File, fileFromPath or fileFromPathSync() instead.");
        }
        return fn.apply(this, args);
    };
}
exports.default = deprecateReadStream;
